# open_climate_collabathon
Our participation in the Open Climate Collabathon, 16-17 nov 2019. Our prompt was "Subnational Carbon Budget Assessments"

We decided to separate Backend and Frontend, using two servers communicating through APIs. This configuration allows us to work separately on both architecture sides, in case we want to improve or change the stack of one of them.

This structure with APIs from the backend is also in the spirit of the Collabathon. In deed, on the long term, data generated by the model could be accessible through APIs for other projects.


## Backend Installation

### install:
```
pip install -r requirements.txt
```

### run locally:
```
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
```
and go to 127.0.0.1:8000 to test it localy

To use another IP address and serve on your network, simply add it to ALLOWED_HOSTS in settings.py and run with: 
```
python manage.py runserver IP
```

### usage
To append data, connect to admin pannel and go to "MAP" section, click first item ("Data files") and add a country TAG (3 letters) and a ".xlsx" file formated as demo file provided (data/Populations_USA.xlsx).
Data will populate DB and become available automaticaly (edit and remove from admin pannel).



## Frontend Installation

* run `npm install` from main repo directory
* start webpack development server with `npm start`
* go to `localhost:8080` in your browser

Frontend is fetching map's data from 'http://127.0.0.1:8000/api/maps/USA?format=json'

You can edit this parameter in app/containers/App.jsx on line 17.
